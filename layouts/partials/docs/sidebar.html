{{- $currUrl := .URL -}}
{{- $area := $.Scratch.Get "area" -}}
{{- $toc := $.Scratch.Get "toc" -}}
{{- $currentNode := . -}}
{{- if $toc -}}
  {{ .TableOfContents }}
{{- end -}}
{{- if not (eq $area nil) -}}
  {{- $currentConfig := index .Site.Data.menus $area -}}
  <em>Quick Links:</em>
  <ul class="nav nav-pills nav-stacked">
    {{- $parentConfig := index .Site.Data.menus $currentConfig.parent -}}
    {{- range $parentConfig.children -}}
      {{- if ne $area . -}}
      {{- else -}}
        {{- range  (index $.Site.Menus $area) -}}
          {{- if .HasChildren -}}
            <li class="sub-menu{{if $currentNode.HasMenuCurrent $area . }} active{{end}}">
            <a href="javascript:;" class="">
              {{ .Pre }}
              <span>{{ .Name }}</span>
              <span class="menu-arrow arrow_carrot-right"></span>
            </a>
            <ul class="sub">
              {{ range .Children }}
                <li{{if $currentNode.IsMenuCurrent $area . }} class="active"{{end}}><a href="{{ .URL }}">{{ .Name }} </a></li>
              {{ end }}
            </ul>
            {{else}}
              {{- if not (eq .URL $currUrl) -}}
              <li>
                <a class="" href="{{.URL}}">
                  {{ .Pre }}
                  <span>{{ .Name }}</span>
                </a>
              </li>
            {{- end -}}
          {{- end -}}
        {{- end -}}
      {{- end -}}
    {{- end -}}
  </ul>
{{- end -}}
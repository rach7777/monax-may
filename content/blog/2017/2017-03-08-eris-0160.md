---

# fill in
date:      2017-03-08T00:00:00Z
title:     Eris 0.16.0 is Released
author:    zach
excerpt:   "From consolidation to logging and everything in between."
thumbnail: eris_0160_release.jpg
categories:
  - releases
tags:
  - engineering
  - eris

# use if needed
published: true
comments:  true
meta:      true

---

# zr -> could not  figure out how to get shorter link from flickr ... ?

[{{< image_blog "eris_0160_release.jpg" >}}](https://www.flickr.com/photos/kruzulis/6521122443/in/photolist-aWfsvz-S3En41-qwskrG-nS7VYS-hLPotz-EEg8E1-qSGmk2-ewk46d-mPyytq-jxAtsG-oH8Qmr-8XTLNn-jBPxhf-euUmTw-7bdHfV-fY9Upm-saxHe1-rYnGvk-o9tPKq-9tqChE-561XEx-o9wvmy-7DcdDf-apsFUK-bvGorQ-5HHPEh-Janxcy-bCs1FD-ScnV1B-rjNGkm-HhhcTh-hVLi4m-9BXgp1-Rgorik-nBCLqw-Stgnco-R92XFk-FJVzFS-pwaF3n-dAuFfc-fbfo1c-8JR3vp-8o1fst-dogu8q-pVYoLi-r79H7r-FqYUqe-GHwsrs-fDD8K7-Pxz7FE)

The previous 0.12.0 release set the stage for what I consider to be our last "big" release. Monax has been building developer tools for the blockchain ecosystem since late 2014 and in that time, we've gone from one massive binary to extremely modular to the current cozy middleground. Today's 0.16.0 release marks 4 months of consolidation, technical debt removal, bug hunting, and streamlining of the features we've been asked for by users or consider necessary for both production chains and easy to use developer tooling. 

# Tooling

We had **way** too many repositories. At one point I had counted 18 *essential* repos for the functioning of our FOSS stack. So what's gone?
* `eris-pm` => code consolidated into the main `eris` cli [repository](https://github.com/eris-ltd/eris)
* `eris-cm` => code consolidated as above
* `eris-abi` => was previously a dependency of `eris-pm` and has been unforked; `eris` now imports the [go-ethereum](https://github.com/ethereum/go-ethereum) ABI directly
* `mint-client` => contains low level tooling for interacting with eris chains; most features have moved into the `eris-db` repo as `eris-client`
* `common` => contained common pieces of functionality which have now moved into their respective repositories
* `coding` => contained useful code snippets for tutorials (moved to `hello-eris`) and coding/release information (moved into `eris`)
#zr what else was rm'd?

The former two reduce both the runtime and bugs-via-docker-edge-cases associated with the `eris pkgs do` and `eris chains make` commands, respectively. And they remove two docker images previously required. The latter simplify developers' lives.

Other major improvements include:
* bump solidity version used by `eris-compilers` from 0.3.6 to 0.4.4 providing access to a slew of new features. Future version upgrades will be greatly simplified
* relatedly, compiling of smart contracts now happens locally by default via compilers-as-a-service rather than via our remote service (which occasionally went down to the chagrin of our users)
* binary linking for smart contract deployments


## Command Optimizations

* `eris chains make` now requires the `--unsafe` flag to add the `privKey` field into the `accounts.json` file (consumed by the javascript libraries). This kicks off a focus on security concerns.
* `eris chains make` now has an optional but highly recommended `--seeds-ip` flag, eliminating manual editing of each and every `config.toml` for multi-node chains



# eris-db

a-one-liner-about-edb
* re-licensing to Apache from GPL3
* technical debt in secure natives address, along with future-proofing
* genesis time re-introduced
* consolidation & clarification of relationship between `eris-db` and the `eris` tooling
* significant overhaul of logging; sets stage for production-grade logging capabilities


## Tendermint Consensus Update

Last release we went from tendermint version 0.4 to version 0.6; a major change that require a lot of work while `eris-db` was still being refactored. This release, we upgrade to tendermint version 0.8 with much less fanfare and this paves the path forward for quick and simple upgrades alongside the development of tendermint.

## Why 0.16.0?

You might be asking yourself why we jumped from 0.12.0 to 0.16.0. Are 13, 14, 15 irrelevant? No. In fact, we're doing this to sync up with javacript libraries which until now were versioned ahead of the rest of the platform. Moving forward, a `platform release` will mean a unified version for all components of the platform. Like everything else in this release, this will help simplify things for  both our users and the developers of the eris platform.


------------------------------------------------------------------------
--------------------------- old post -----------------------------------
------------------------------------------------------------------------

## Docker Image Optimization

We have worked hard to reduce the footprint which `eris` takes up on user's hard drives. Previously our docker images totalled at around 4GB for our 0.11.4 series. This was far from ideal. For 0.12.0 we have reduced that by an order of magnitude. Our docker footprint now clocks in at around 400MB. 200MB of which is the alpine base image. In our next release cycle we will be further optimizing our docker footprint by removing the package manager and chain manager images completely from the platform. The functionality that these two images have will be integrated directly into `eris:cli`. This will reduce our docker image size by another 80MB or so.

As one long-time user recently said:

```irc
eris init got so fast! I almost wanna do that again ;)
```

## Chains Boot Refactor

We have performed a significant refactor of how `eris chains` boot. We have harmonized various commands that were utilized in this pathway into a more coherent and usable system. Now making and booting a simple chain is as easy as:

```
eris chains make my_chain
eris chains start my_chain --init-dir my_chain
```

Boom. Your chain will be started. Obviously, the more complex chain make features are all still available for users to optimize various networks they require in order to build their applications.

We have also simplified the files which both `eris:cli` and `eris:db` rely upon to boot. These are now harmonized to three simple files (rather than five confusingly named files in previous versions):

* a `config.toml` that contains all of the configuration necessary for `eris:cli` to start the docker image and for `eris:db` to boot properly.
* a `genesis.json` for establishing the network (no changes here).
* a `priv_validator.json` which is the key for a particular node (no changes here).

## Tendermint Blockchain Engine Update

The biggest change we've made in the 0.12.0 series should be mostly transparent to users. It is an upgrade of the tendermint blockchain engine we use from our previous 0.4 version to a much more recent 0.6 version.

For those interested, we run the [tendermint](http://tendermint.com) blockchain engine "in process" meaning that we do not connect with it over it's TMSP socket at this time. We do so in order to have greater control over the boot and events processes which are vital to a smooth running of the entire `eris:db` blockchain client.

We will be taking a debian:ubuntu like approach to how we syncronize the tendermint blockchain engine we utilize. Namely, after each release we shall sync with tendermint's current head and utilize that version of tendermint during our development process for a particular release.

## Other Changes to `eris:db`

There have been numerous other changes to `eris:db` which optimize and harden the code base. This release marks the first time we, as Monax, shall be assuming sole responsibility for the "application engine" of the `eris:db` blockchain client and utilizing the best in class Tendermint codebase for the "consensus engine" of the `eris:db` blockchain client. Previous versions of `eris:db` have been joint efforts between Monax and Tendermint on a more or less unitary codebase.

There are big harmonizations and optimizations (detailed below) coming in our next release of `eris:db` now that we have the major refactor to a consensus engine codebase and an application engine codebase behind us.

## Other Commands Optimizations

We have removed many of the unused commands in order to simplify the cognitive overhead of learning "how to blockchain" for new users. The reduction in surface area for the `eris:cli` tool allows us to have cleaner testing, cleaner code paths, and also be more responsive to user issues.

Commands that have been removed:

* eris update,
* eris actions,
* eris chains new,
* eris chains update,
* eris chains rename,
* eris chains rm --file,
* eris services new,
* eris keys pub

## Bug Fixes

There were lots, and lots, of bugs to fix! Thanks to everyone that has been reporting bugs, it may be frustrating at times to face bugs but as a pre-1.0 project we rely on users reporting to us where the platform is not performing as advertised so that we can put in place proper tests and fixes.

## Installation and Upgrade

To install eris version 0.12.0 please see our [Getting Started](/docs/tutorials/getting-started/) page.

If you would like to upgrade from a previous version of `eris` please note that the previously included `eris upgrade` is no longer supported and will not work to upgrade to 0.12.0. We have worked hard to integrate with package managers for all major operating systems. We encourage users to update their installations to utilize a package manager for their operating system. Instructions for doing so are included in the getting started page.

If you have utilized the prior installation of eris via our beta apt-get or yum repositories please note that the previous URL's will no longer be supported going forward. Please update your URLs to reference the following:

* https://apt.monax.io
* https://yum.monax.io

Please note that the previously released version of our javascript SDK will not work with 0.12.0 due to quite a few breaking changes in the `eris:db` RPC server. Users should update their javascript SDK to the following versions for compatibility with `eris:db` 0.12.0:

* `eris-db.js`: 0.15.1
* `eris-contracts.js`: 0.15.1

The new versions of the javascript SDK will be released this week.

## What's Next

Our next release will be numbered 0.16.0. From that release forward our javascript SDK will be released alongside and in concert with the platform versioning. Previously we have gotten out of step in number sequencing between the platform and the javascript SDK and this will be rectified in the next sequence.

For that release we will be focusing on the following major areas for improvement:

* optimization of the `eris:db` RPC including addition of as much web3 compatibility as our architecture allows for easy porting of ethereum applications to utilize `eris:db`
* better, more stable logging by `eris:db`
* more sane event handling by `eris:db`
* collapsing of the `eris:keys` repository into the `eris:db` repository
* collapsing of the `eris:cm`, `eris:abi`, `eris:pm` toolkits and repositories into the `eris:cli` repository and binary in order to dramatically improve speed and reduce docker edge cases in providing the `eris chains make` and `eris pkgs` functionality.
* refactoring of the `eris chains` pipeline to utilize and interface which will allow for more expansive utilization of various blockchain clients as `eris chains` in the future if demand so requires
* preliminary package management capabilities built into `eris pkgs`
* addition of the `eris chains info` command for easier understanding of the state of an `eris chain`

We look forward to your feedback!

[(Photo credit: CC-BY-SA: Anne Worner @ Flickr )](https://www.flickr.com/photos/wefi_official/)
